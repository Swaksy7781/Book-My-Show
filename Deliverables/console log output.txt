Started by user Saurabh Shivaji Wakase
Obtained Jenkinsfile from git https://github.com/Swaksy7781/Book-My-Show.git
[Pipeline] Start of Pipeline
[Pipeline] node
Running on Jenkins in /var/lib/jenkins/workspace/Book-my-Show_complete_CICD
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
Selected Git installation does not exist. Using Default
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /var/lib/jenkins/workspace/Book-my-Show_complete_CICD/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/Swaksy7781/Book-My-Show.git # timeout=10
Fetching upstream changes from https://github.com/Swaksy7781/Book-My-Show.git
 > git --version # timeout=10
 > git --version # 'git version 2.43.0'
 > git fetch --tags --force --progress -- https://github.com/Swaksy7781/Book-My-Show.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/main^{commit} # timeout=10
Checking out Revision 04d83dfb59111e40eeef2bf96342bbc63f02d1d6 (refs/remotes/origin/main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 04d83dfb59111e40eeef2bf96342bbc63f02d1d6 # timeout=10
Commit message: "Jenkinsfile updated"
First time build. Skipping changelog.
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] tool
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Tool Install)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Clean Workspace)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] withEnv
[Pipeline] {
[Pipeline] cleanWs
[WS-CLEANUP] Deleting project workspace...
[WS-CLEANUP] Deferred wipeout is used...
[WS-CLEANUP] done
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Checkout from Git)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] withEnv
[Pipeline] {
[Pipeline] git
Selected Git installation does not exist. Using Default
The recommended git tool is: NONE
No credentials specified
Cloning the remote Git repository
Cloning repository https://github.com/Swaksy7781/Book-My-Show.git
 > git init /var/lib/jenkins/workspace/Book-my-Show_complete_CICD # timeout=10
Fetching upstream changes from https://github.com/Swaksy7781/Book-My-Show.git
 > git --version # timeout=10
 > git --version # 'git version 2.43.0'
 > git fetch --tags --force --progress -- https://github.com/Swaksy7781/Book-My-Show.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git config remote.origin.url https://github.com/Swaksy7781/Book-My-Show.git # timeout=10
 > git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
Avoid second fetch
 > git rev-parse refs/remotes/origin/main^{commit} # timeout=10
Checking out Revision 04d83dfb59111e40eeef2bf96342bbc63f02d1d6 (refs/remotes/origin/main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 04d83dfb59111e40eeef2bf96342bbc63f02d1d6 # timeout=10
 > git branch -a -v --no-abbrev # timeout=10
 > git checkout -b main 04d83dfb59111e40eeef2bf96342bbc63f02d1d6 # timeout=10
Commit message: "Jenkinsfile updated"
[Pipeline] sh
+ ls -la
total 76
drwxr-xr-x  4 jenkins jenkins  4096 Sep 14 13:09 .
drwxr-xr-x 11 jenkins jenkins  4096 Sep 14 13:09 ..
drwxr-xr-x  8 jenkins jenkins  4096 Sep 14 13:09 .git
-rw-r--r--  1 jenkins jenkins 30439 Sep 14 13:09 BMS-Document.txt
-rw-r--r--  1 jenkins jenkins  5264 Sep 14 13:09 Jenkinsfile
-rw-r--r--  1 jenkins jenkins  3669 Sep 14 13:09 Jenkinsfile1
-rw-r--r--  1 jenkins jenkins  3991 Sep 14 13:09 Jenkinsfile2
-rw-r--r--  1 jenkins jenkins    98 Sep 14 13:09 README.md
drwxr-xr-x  4 jenkins jenkins  4096 Sep 14 13:09 bookmyshow-app
-rw-r--r--  1 jenkins jenkins   353 Sep 14 13:09 deployment.yml
-rw-r--r--  1 jenkins jenkins   173 Sep 14 13:09 service.yml
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (SonarQube Analysis)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] withEnv
[Pipeline] {
[Pipeline] withSonarQubeEnv
Injecting SonarQube environment variables using the configuration: sonar-server
[Pipeline] {
[Pipeline] sh
+ /var/lib/jenkins/tools/hudson.plugins.sonar.SonarRunnerInstallation/sonar-scanner/bin/sonar-scanner -Dsonar.projectName=Book-my-Show -Dsonar.projectKey=BMS
13:09:25.680 INFO  Scanner configuration file: /var/lib/jenkins/tools/hudson.plugins.sonar.SonarRunnerInstallation/sonar-scanner/conf/sonar-scanner.properties
13:09:25.689 INFO  Project root configuration file: NONE
13:09:25.717 INFO  SonarScanner CLI 7.2.0.5079
13:09:25.721 INFO  Linux 6.14.0-1012-aws amd64
13:09:28.174 INFO  Communicating with SonarQube Server 9.9.8.100196
13:09:29.626 INFO  Load global settings
13:09:29.918 INFO  Load global settings (done) | time=295ms
13:09:29.927 INFO  Server id: 147B411E-AZlCtxAvUqoWgNt_biDj
13:09:29.942 INFO  User cache: /var/lib/jenkins/.sonar/cache
13:09:29.953 INFO  Load/download plugins
13:09:29.953 INFO  Load plugins index
13:09:30.069 INFO  Load plugins index (done) | time=116ms
13:09:30.327 INFO  Load/download plugins (done) | time=374ms
13:09:31.863 INFO  Process project properties
13:09:31.866 INFO  Process project properties (done) | time=3ms
13:09:31.874 INFO  Execute project builders
13:09:31.885 INFO  Execute project builders (done) | time=11ms
13:09:31.998 INFO  Project key: BMS
13:09:31.999 INFO  Base dir: /var/lib/jenkins/workspace/Book-my-Show_complete_CICD
13:09:31.999 INFO  Working dir: /var/lib/jenkins/workspace/Book-my-Show_complete_CICD/.scannerwork
13:09:32.031 INFO  Load project settings for component key: 'BMS'
13:09:32.104 INFO  Load project settings for component key: 'BMS' (done) | time=73ms
13:09:32.574 INFO  Auto-configuring with CI 'Jenkins'
13:09:32.578 INFO  Load quality profiles
13:09:32.864 INFO  Load quality profiles (done) | time=286ms
13:09:32.892 INFO  Load active rules
13:09:37.427 INFO  Load active rules (done) | time=4535ms
13:09:37.444 INFO  Load analysis cache
13:09:37.562 INFO  Load analysis cache | time=118ms
13:09:37.811 INFO  Load project repositories
13:09:37.888 INFO  Load project repositories (done) | time=77ms
13:09:38.118 INFO  Indexing files...
13:09:38.119 INFO  Project configuration:
13:09:38.825 INFO  107 files indexed
13:09:38.826 INFO  0 files ignored because of scm ignore settings
13:09:38.829 INFO  Quality profile for css: Sonar way
13:09:38.829 INFO  Quality profile for js: Sonar way
13:09:38.829 INFO  Quality profile for json: Sonar way
13:09:38.829 INFO  Quality profile for web: Sonar way
13:09:38.829 INFO  Quality profile for yaml: Sonar way
13:09:38.830 INFO  ------------- Run sensors on module Book-my-Show
13:09:39.047 INFO  Load metrics repository
13:09:39.108 INFO  Load metrics repository (done) | time=58ms
13:09:42.282 INFO  Sensor JaCoCo XML Report Importer [jacoco]
13:09:42.283 INFO  'sonar.coverage.jacoco.xmlReportPaths' is not defined. Using default locations: target/site/jacoco/jacoco.xml,target/site/jacoco-it/jacoco.xml,build/reports/jacoco/test/jacocoTestReport.xml
13:09:42.284 INFO  No report imported, no coverage information will be imported by JaCoCo XML Report Importer
13:09:42.285 INFO  Sensor JaCoCo XML Report Importer [jacoco] (done) | time=3ms
13:09:42.285 INFO  Sensor IaC CloudFormation Sensor [iac]
13:09:42.800 INFO  0 source files to be analyzed
13:09:42.917 INFO  0/0 source files have been analyzed
13:09:42.918 INFO  Sensor IaC CloudFormation Sensor [iac] (done) | time=633ms
13:09:42.919 INFO  Sensor IaC Kubernetes Sensor [iac]
13:09:43.093 INFO  2 source files to be analyzed
13:09:43.318 INFO  2/2 source files have been analyzed
13:09:43.318 INFO  Sensor IaC Kubernetes Sensor [iac] (done) | time=400ms
13:09:43.319 INFO  Sensor JavaScript analysis [javascript]
13:09:48.888 INFO  62 source files to be analyzed
13:09:58.835 INFO  62/62 source files have been analyzed
13:09:58.835 INFO  Hit the cache for 0 out of 62
13:09:58.838 INFO  Miss the cache for 62 out of 62: ANALYSIS_MODE_INELIGIBLE [62/62]
13:09:58.838 INFO  Sensor JavaScript analysis [javascript] (done) | time=15519ms
13:09:58.838 INFO  Sensor TypeScript analysis [javascript]
13:09:58.839 INFO  No input files found for analysis
13:09:58.840 INFO  Hit the cache for 0 out of 0
13:09:58.840 INFO  Miss the cache for 0 out of 0
13:09:58.840 INFO  Sensor TypeScript analysis [javascript] (done) | time=2ms
13:09:58.840 INFO  Sensor JavaScript inside YAML analysis [javascript]
13:09:58.842 INFO  No input files found for analysis
13:09:58.842 INFO  Hit the cache for 0 out of 0
13:09:58.842 INFO  Miss the cache for 0 out of 0
13:09:58.842 INFO  Sensor JavaScript inside YAML analysis [javascript] (done) | time=2ms
13:09:58.842 INFO  Sensor CSS Rules [javascript]
13:09:58.852 INFO  17 source files to be analyzed
13:09:59.706 INFO  17/17 source files have been analyzed
13:09:59.706 INFO  Hit the cache for 0 out of 0
13:09:59.706 INFO  Miss the cache for 0 out of 0
13:09:59.706 INFO  Sensor CSS Rules [javascript] (done) | time=864ms
13:09:59.707 INFO  Sensor CSS Metrics [javascript]
13:09:59.917 INFO  Sensor CSS Metrics [javascript] (done) | time=211ms
13:09:59.918 INFO  Sensor C# Project Type Information [csharp]
13:09:59.920 INFO  Sensor C# Project Type Information [csharp] (done) | time=3ms
13:09:59.921 INFO  Sensor C# Analysis Log [csharp]
13:09:59.954 INFO  Sensor C# Analysis Log [csharp] (done) | time=33ms
13:09:59.954 INFO  Sensor C# Properties [csharp]
13:09:59.955 INFO  Sensor C# Properties [csharp] (done) | time=1ms
13:09:59.955 INFO  Sensor HTML [web]
13:10:00.019 INFO  Sensor HTML [web] (done) | time=64ms
13:10:00.019 INFO  Sensor TextAndSecretsSensor [text]
13:10:00.032 INFO  84 source files to be analyzed
13:10:00.686 INFO  84/84 source files have been analyzed
13:10:00.686 INFO  Sensor TextAndSecretsSensor [text] (done) | time=667ms
13:10:00.686 INFO  Sensor VB.NET Project Type Information [vbnet]
13:10:00.687 INFO  Sensor VB.NET Project Type Information [vbnet] (done) | time=1ms
13:10:00.688 INFO  Sensor VB.NET Analysis Log [vbnet]
13:10:00.721 INFO  Sensor VB.NET Analysis Log [vbnet] (done) | time=34ms
13:10:00.721 INFO  Sensor VB.NET Properties [vbnet]
13:10:00.722 INFO  Sensor VB.NET Properties [vbnet] (done) | time=1ms
13:10:00.722 INFO  Sensor IaC Docker Sensor [iac]
13:10:00.726 INFO  1 source file to be analyzed
13:10:00.810 INFO  1/1 source file has been analyzed
13:10:00.811 INFO  Sensor IaC Docker Sensor [iac] (done) | time=89ms
13:10:00.821 INFO  ------------- Run sensors on project
13:10:00.879 INFO  Sensor Analysis Warnings import [csharp]
13:10:00.880 INFO  Sensor Analysis Warnings import [csharp] (done) | time=1ms
13:10:00.880 INFO  Sensor Zero Coverage Sensor
13:10:00.904 INFO  Sensor Zero Coverage Sensor (done) | time=23ms
13:10:00.930 INFO  CPD Executor 10 files had no CPD blocks
13:10:00.930 INFO  CPD Executor Calculating CPD for 53 files
13:10:00.978 INFO  CPD Executor CPD calculation finished (done) | time=47ms
13:10:01.079 INFO  Analysis report generated in 88ms, dir size=721.1 kB
13:10:01.258 INFO  Analysis report compressed in 177ms, zip size=410.8 kB
13:10:01.326 INFO  Analysis report uploaded in 68ms
13:10:01.329 INFO  ANALYSIS SUCCESSFUL, you can find the results at: http://13.60.156.31:9000/dashboard?id=BMS
13:10:01.330 INFO  Note that you will be able to access the updated dashboard once the server has processed the submitted analysis report
13:10:01.330 INFO  More about the report processing at http://13.60.156.31:9000/api/ce/task?id=AZlIWMVXpy9IuZXGXUd8
13:10:02.586 INFO  Analysis total time: 31.984 s
13:10:02.591 INFO  EXECUTION SUCCESS
13:10:02.592 INFO  Total time: 37.009s
[Pipeline] }
[Pipeline] // withSonarQubeEnv
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Quality Gate)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] withEnv
[Pipeline] {
[Pipeline] script
[Pipeline] {
[Pipeline] waitForQualityGate
Checking status of SonarQube task 'AZlIWMVXpy9IuZXGXUd8' on server 'sonar-server'
SonarQube task 'AZlIWMVXpy9IuZXGXUd8' status is 'IN_PROGRESS'
SonarQube task 'AZlIWMVXpy9IuZXGXUd8' status is 'SUCCESS'
SonarQube task 'AZlIWMVXpy9IuZXGXUd8' completed. Quality gate is 'OK'
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Install Dependencies)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ cd bookmyshow-app
+ ls -la
total 1584
drwxr-xr-x 4 jenkins jenkins    4096 Sep 14 13:09 .
drwxr-xr-x 5 jenkins jenkins    4096 Sep 14 13:09 ..
-rw-r--r-- 1 jenkins jenkins     591 Sep 14 13:09 Dockerfile
-rw-r--r-- 1 jenkins jenkins    3369 Sep 14 13:09 README.md
-rw-r--r-- 1 jenkins jenkins 1592100 Sep 14 13:09 package-lock.json
-rw-r--r-- 1 jenkins jenkins    1422 Sep 14 13:09 package.json
drwxr-xr-x 3 jenkins jenkins    4096 Sep 14 13:09 public
drwxr-xr-x 7 jenkins jenkins    4096 Sep 14 13:09 src
+ [ -f package.json ]
+ rm -rf node_modules package-lock.json
+ npm install
npm WARN ERESOLVE overriding peer dependency
npm WARN ERESOLVE overriding peer dependency
npm WARN ERESOLVE overriding peer dependency
npm WARN deprecated @types/minimatch@6.0.0: This is a stub types definition. minimatch provides its own type definitions, so you do not need this installed.
npm WARN deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
npm WARN deprecated move-concurrently@1.0.1: This package is no longer supported.
npm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs
npm WARN deprecated flatten@1.0.3: flatten is deprecated in favor of utility frameworks such as lodash.
npm WARN deprecated rollup-plugin-terser@5.3.1: This package has been deprecated and is no longer maintained. Please use @rollup/plugin-terser
npm WARN deprecated @hapi/bourne@1.3.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility
npm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated
npm WARN deprecated @babel/plugin-proposal-numeric-separator@7.18.6: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-numeric-separator instead.
npm WARN deprecated @babel/plugin-proposal-private-methods@7.18.6: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-private-methods instead.
npm WARN deprecated @babel/plugin-proposal-nullish-coalescing-operator@7.18.6: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-nullish-coalescing-operator instead.
npm WARN deprecated @babel/plugin-proposal-class-properties@7.18.6: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-class-properties instead.
npm WARN deprecated figgy-pudding@3.5.2: This module is no longer supported.
npm WARN deprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated rimraf@2.7.1: Rimraf versions prior to v4 are no longer supported
npm WARN deprecated rimraf@2.7.1: Rimraf versions prior to v4 are no longer supported
npm WARN deprecated rimraf@2.7.1: Rimraf versions prior to v4 are no longer supported
npm WARN deprecated rimraf@2.7.1: Rimraf versions prior to v4 are no longer supported
npm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated
npm WARN deprecated @humanwhocodes/config-array@0.5.0: Use @eslint/config-array instead
npm WARN deprecated copy-concurrently@1.0.5: This package is no longer supported.
npm WARN deprecated lodash.template@4.5.0: This package is deprecated. Use https://socket.dev/npm/package/eta instead.
npm WARN deprecated abab@2.0.6: Use your platform's native atob() and btoa() methods instead
npm WARN deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
npm WARN deprecated @babel/plugin-proposal-optional-chaining@7.21.0: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-optional-chaining instead.
npm WARN deprecated @babel/plugin-proposal-private-property-in-object@7.21.11: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-private-property-in-object instead.
npm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated
npm WARN deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated
npm WARN deprecated querystring@0.2.1: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.
npm WARN deprecated domexception@2.0.1: Use your platform's native DOMException instead
npm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.
npm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead
npm WARN deprecated q@1.5.1: You or someone you depend on is using Q, the JavaScript Promise library that gave JavaScript developers strong feelings about promises. They can almost certainly migrate to the native JavaScript promise now. Thank you literally everyone for joining me in this bet against the odds. Be excellent to each other.
npm WARN deprecated 
npm WARN deprecated (For a CapTP with native promises, see @endo/eventual-send and @endo/captp)
npm WARN deprecated fs-write-stream-atomic@1.0.10: This package is no longer supported.
npm WARN deprecated sane@4.1.0: some dependency vulnerabilities fixed, support for node < 10 dropped, and newer ECMAScript syntax/features added
npm WARN deprecated babel-eslint@10.1.0: babel-eslint is now @babel/eslint-parser. This package will no longer receive updates.
npm WARN deprecated @hapi/address@2.1.4: Moved to 'npm install @sideway/address'
npm WARN deprecated rollup-plugin-babel@4.4.0: This package has been deprecated and is no longer maintained. Please use @rollup/plugin-babel.
npm WARN deprecated @humanwhocodes/object-schema@1.2.1: Use @eslint/object-schema instead
npm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated workbox-google-analytics@5.1.4: It is not compatible with newer versions of GA starting with v4, as long as you are using GAv3 it should be ok, but the package is not longer being maintained
npm WARN deprecated @hapi/joi@15.1.1: Switch to 'npm install joi'
npm WARN deprecated svgo@1.3.2: This SVGO version is no longer supported. Upgrade to v2.x.x.
npm WARN deprecated @material-ui/styles@4.11.5: Material UI v4 doesn't receive active development since September 2021. See the guide https://mui.com/material-ui/migration/migration-v4/ to upgrade to v5.
npm WARN deprecated eslint@7.32.0: This version is no longer supported. Please see https://eslint.org/version-support for other options.
npm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.
npm WARN deprecated @material-ui/core@4.12.4: Material UI v4 doesn't receive active development since September 2021. See the guide https://mui.com/material-ui/migration/migration-v4/ to upgrade to v5.

added 2328 packages, and audited 2537 packages in 2m

251 packages are looking for funding
  run `npm fund` for details

139 vulnerabilities (100 moderate, 32 high, 7 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Docker Build & Push)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] withEnv
[Pipeline] {
[Pipeline] script
[Pipeline] {
[Pipeline] withDockerRegistry
$ docker login -u swaksy7781 -p ******** https://index.docker.io/v1/
WARNING! Using --password via the CLI is insecure. Use --password-stdin.

WARNING! Your credentials are stored unencrypted in '/var/lib/jenkins/workspace/Book-my-Show_complete_CICD@tmp/fdae5ec2-91da-4042-baa7-5aef41f29060/config.json'.
Configure a credential helper to remove this warning. See
https://docs.docker.com/go/credential-store/

Login Succeeded
[Pipeline] {
[Pipeline] sh
+ echo Building Docker image...
Building Docker image...
+ docker build --no-cache -t swaksy7781/bms:latest -f bookmyshow-app/Dockerfile bookmyshow-app
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 630B done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/node:18
#2 ...

#3 [auth] library/node:pull token for registry-1.docker.io
#3 DONE 0.0s

#2 [internal] load metadata for docker.io/library/node:18
#2 DONE 1.0s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [1/6] FROM docker.io/library/node:18@sha256:c6ae79e38498325db67193d391e6ec1d224d96c693a8a4d943498556716d3783
#5 DONE 0.0s

#6 [2/6] WORKDIR /app
#6 CACHED

#7 [internal] load build context
#7 transferring context: 32.61MB 5.1s
#7 transferring context: 72.13MB 10.1s
#7 transferring context: 148.96MB 15.1s
#7 transferring context: 196.06MB 20.1s
#7 transferring context: 414.77MB 25.2s
#7 transferring context: 500.02MB 26.9s done
#7 DONE 27.2s

#8 [3/6] COPY package.json package-lock.json ./
#8 DONE 0.3s

#9 [4/6] RUN npm install postcss@8.4.21 postcss-safe-parser@6.0.0 --legacy-peer-deps
#9 13.76 npm warn deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated
#9 13.80 npm warn deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.
#9 14.94 npm warn deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead
#9 14.99 npm warn deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated
#9 15.07 npm warn deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility
#9 15.26 npm warn deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated
#9 15.35 npm warn deprecated rollup-plugin-terser@5.3.1: This package has been deprecated and is no longer maintained. Please use @rollup/plugin-terser
#9 15.64 npm warn deprecated sane@4.1.0: some dependency vulnerabilities fixed, support for node < 10 dropped, and newer ECMAScript syntax/features added
#9 15.65 npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
#9 15.78 npm warn deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated
#9 15.84 npm warn deprecated workbox-google-analytics@5.1.4: It is not compatible with newer versions of GA starting with v4, as long as you are using GAv3 it should be ok, but the package is not longer being maintained
#9 16.24 npm warn deprecated rollup-plugin-babel@4.4.0: This package has been deprecated and is no longer maintained. Please use @rollup/plugin-babel.
#9 16.39 npm warn deprecated querystring@0.2.1: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.
#9 16.70 npm warn deprecated q@1.5.1: You or someone you depend on is using Q, the JavaScript Promise library that gave JavaScript developers strong feelings about promises. They can almost certainly migrate to the native JavaScript promise now. Thank you literally everyone for joining me in this bet against the odds. Be excellent to each other.
#9 16.70 npm warn deprecated
#9 16.70 npm warn deprecated (For a CapTP with native promises, see @endo/eventual-send and @endo/captp)
#9 18.21 npm warn deprecated move-concurrently@1.0.1: This package is no longer supported.
#9 18.46 npm warn deprecated lodash.template@4.5.0: This package is deprecated. Use https://socket.dev/npm/package/eta instead.
#9 19.57 npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
#9 20.11 npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
#9 20.36 npm warn deprecated flatten@1.0.3: flatten is deprecated in favor of utility frameworks such as lodash.
#9 20.52 npm warn deprecated fs-write-stream-atomic@1.0.10: This package is no longer supported.
#9 20.54 npm warn deprecated figgy-pudding@3.5.2: This module is no longer supported.
#9 21.36 npm warn deprecated domexception@2.0.1: Use your platform's native DOMException instead
#9 21.56 npm warn deprecated svgo@1.3.2: This SVGO version is no longer supported. Upgrade to v2.x.x.
#9 21.95 npm warn deprecated copy-concurrently@1.0.5: This package is no longer supported.
#9 23.41 npm warn deprecated babel-eslint@10.1.0: babel-eslint is now @babel/eslint-parser. This package will no longer receive updates.
#9 23.42 npm warn deprecated abab@2.0.6: Use your platform's native atob() and btoa() methods instead
#9 23.68 npm warn deprecated @types/minimatch@6.0.0: This is a stub types definition. minimatch provides its own type definitions, so you do not need this installed.
#9 24.02 npm warn deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs
#9 24.54 npm warn deprecated @humanwhocodes/config-array@0.5.0: Use @eslint/config-array instead
#9 24.61 npm warn deprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained
#9 24.61 npm warn deprecated @hapi/bourne@1.3.2: This version has been deprecated and is no longer supported or maintained
#9 25.15 npm warn deprecated @humanwhocodes/object-schema@1.2.1: Use @eslint/object-schema instead
#9 25.24 npm warn deprecated @hapi/address@2.1.4: Moved to 'npm install @sideway/address'
#9 25.48 npm warn deprecated @babel/plugin-proposal-private-methods@7.18.6: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-private-methods instead.
#9 25.53 npm warn deprecated @babel/plugin-proposal-nullish-coalescing-operator@7.18.6: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-nullish-coalescing-operator instead.
#9 25.53 npm warn deprecated @babel/plugin-proposal-numeric-separator@7.18.6: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-numeric-separator instead.
#9 25.53 npm warn deprecated @babel/plugin-proposal-class-properties@7.18.6: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-class-properties instead.
#9 25.81 npm warn deprecated @babel/plugin-proposal-optional-chaining@7.21.0: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-optional-chaining instead.
#9 25.90 npm warn deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
#9 26.33 npm warn deprecated rimraf@2.7.1: Rimraf versions prior to v4 are no longer supported
#9 26.74 npm warn deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.
#9 28.75 npm warn deprecated @hapi/joi@15.1.1: Switch to 'npm install joi'
#9 29.57 npm warn deprecated rimraf@2.7.1: Rimraf versions prior to v4 are no longer supported
#9 31.67 npm warn deprecated rimraf@2.7.1: Rimraf versions prior to v4 are no longer supported
#9 32.30 npm warn deprecated rimraf@2.7.1: Rimraf versions prior to v4 are no longer supported
#9 32.53 npm warn deprecated @babel/plugin-proposal-private-property-in-object@7.21.11: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-private-property-in-object instead.
#9 34.47 npm warn deprecated @material-ui/styles@4.11.5: Material UI v4 doesn't receive active development since September 2021. See the guide https://mui.com/material-ui/migration/migration-v4/ to upgrade to v5.
#9 36.50 npm warn deprecated eslint@7.32.0: This version is no longer supported. Please see https://eslint.org/version-support for other options.
#9 42.25 npm warn deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.
#9 45.49 npm warn deprecated @material-ui/core@4.12.4: Material UI v4 doesn't receive active development since September 2021. See the guide https://mui.com/material-ui/migration/migration-v4/ to upgrade to v5.
#9 68.31 
#9 68.31 added 2320 packages, and audited 2529 packages in 1m
#9 68.31 
#9 68.31 251 packages are looking for funding
#9 68.31   run `npm fund` for details
#9 68.50 
#9 68.50 137 vulnerabilities (98 moderate, 32 high, 7 critical)
#9 68.50 
#9 68.50 To address issues that do not require attention, run:
#9 68.50   npm audit fix
#9 68.50 
#9 68.50 To address all issues (including breaking changes), run:
#9 68.50   npm audit fix --force
#9 68.50 
#9 68.50 Run `npm audit` for details.
#9 68.51 npm notice
#9 68.51 npm notice New major version of npm available! 10.8.2 -> 11.6.0
#9 68.51 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.0
#9 68.51 npm notice To update run: npm install -g npm@11.6.0
#9 68.51 npm notice
#9 DONE 69.6s

#10 [5/6] RUN npm install
#10 7.221 npm warn ERESOLVE overriding peer dependency
#10 7.222 npm warn While resolving: react-only-when@1.0.2
#10 7.222 npm warn Found: react@17.0.2
#10 7.222 npm warn node_modules/react
#10 7.222 npm warn   react@"^17.0.1" from the root project
#10 7.222 npm warn   58 more (@ant-design/icons, @ant-design/react-slick, ...)
#10 7.222 npm warn
#10 7.222 npm warn Could not resolve dependency:
#10 7.222 npm warn peer react@"^15.0.0 || ^16.0.0" from react-only-when@1.0.2
#10 7.222 npm warn node_modules/react-elastic-carousel/node_modules/react-only-when
#10 7.222 npm warn   react-only-when@"^1.0.2" from react-elastic-carousel@0.11.5
#10 7.222 npm warn   node_modules/react-elastic-carousel
#10 7.222 npm warn
#10 7.222 npm warn Conflicting peer dependency: react@16.14.0
#10 7.222 npm warn node_modules/react
#10 7.222 npm warn   peer react@"^15.0.0 || ^16.0.0" from react-only-when@1.0.2
#10 7.222 npm warn   node_modules/react-elastic-carousel/node_modules/react-only-when
#10 7.222 npm warn     react-only-when@"^1.0.2" from react-elastic-carousel@0.11.5
#10 7.222 npm warn     node_modules/react-elastic-carousel
#10 7.252 npm warn ERESOLVE overriding peer dependency
#10 7.252 npm warn While resolving: react-only-when@1.0.2
#10 7.252 npm warn Found: react-dom@17.0.2
#10 7.252 npm warn node_modules/react-dom
#10 7.252 npm warn   react-dom@"^17.0.1" from the root project
#10 7.252 npm warn   50 more (@ant-design/icons, @material-ui/core, ...)
#10 7.252 npm warn
#10 7.252 npm warn Could not resolve dependency:
#10 7.252 npm warn peer react-dom@"^15.0.0 || ^16.0.0" from react-only-when@1.0.2
#10 7.252 npm warn node_modules/react-elastic-carousel/node_modules/react-only-when
#10 7.252 npm warn   react-only-when@"^1.0.2" from react-elastic-carousel@0.11.5
#10 7.252 npm warn   node_modules/react-elastic-carousel
#10 7.252 npm warn
#10 7.252 npm warn Conflicting peer dependency: react-dom@16.14.0
#10 7.252 npm warn node_modules/react-dom
#10 7.252 npm warn   peer react-dom@"^15.0.0 || ^16.0.0" from react-only-when@1.0.2
#10 7.252 npm warn   node_modules/react-elastic-carousel/node_modules/react-only-when
#10 7.252 npm warn     react-only-when@"^1.0.2" from react-elastic-carousel@0.11.5
#10 7.252 npm warn     node_modules/react-elastic-carousel
#10 7.367 npm warn ERESOLVE overriding peer dependency
#10 7.367 npm warn While resolving: react-swipeable@5.5.1
#10 7.367 npm warn Found: react@17.0.2
#10 7.367 npm warn node_modules/react
#10 7.367 npm warn   react@"^17.0.1" from the root project
#10 7.367 npm warn   58 more (@ant-design/icons, @ant-design/react-slick, ...)
#10 7.367 npm warn
#10 7.367 npm warn Could not resolve dependency:
#10 7.367 npm warn peer react@"^16.0.0-0" from react-swipeable@5.5.1
#10 7.367 npm warn node_modules/react-elastic-carousel/node_modules/react-swipeable
#10 7.367 npm warn   react-swipeable@"^5.5.1" from react-elastic-carousel@0.11.5
#10 7.367 npm warn   node_modules/react-elastic-carousel
#10 7.367 npm warn
#10 7.367 npm warn Conflicting peer dependency: react@16.14.0
#10 7.367 npm warn node_modules/react
#10 7.367 npm warn   peer react@"^16.0.0-0" from react-swipeable@5.5.1
#10 7.367 npm warn   node_modules/react-elastic-carousel/node_modules/react-swipeable
#10 7.367 npm warn     react-swipeable@"^5.5.1" from react-elastic-carousel@0.11.5
#10 7.367 npm warn     node_modules/react-elastic-carousel
#10 14.10 
#10 14.10 added 8 packages, removed 17 packages, changed 1 package, and audited 2520 packages in 14s
#10 14.10 
#10 14.10 252 packages are looking for funding
#10 14.10   run `npm fund` for details
#10 14.29 
#10 14.29 139 vulnerabilities (100 moderate, 32 high, 7 critical)
#10 14.29 
#10 14.29 To address issues that do not require attention, run:
#10 14.29   npm audit fix
#10 14.29 
#10 14.29 To address all issues (including breaking changes), run:
#10 14.29   npm audit fix --force
#10 14.29 
#10 14.29 Run `npm audit` for details.
#10 DONE 14.6s

#11 [6/6] COPY . .
#11 DONE 127.8s

#12 exporting to image
#12 exporting layers
#12 exporting layers 102.6s done
#12 writing image sha256:d2ef898865a32381560ab4f928e1539e1d167fd2aadd4fbed4d3189afcbc3bba done
#12 naming to docker.io/swaksy7781/bms:latest done
#12 DONE 102.7s
+ echo Pushing Docker image to registry...
Pushing Docker image to registry...
+ docker push swaksy7781/bms:latest
The push refers to repository [docker.io/swaksy7781/bms]
77668346afb8: Preparing
9b2a22de7ab4: Preparing
7f20ba27b9a3: Preparing
ed899b27f171: Preparing
da9352a361fa: Preparing
d2a991bcab4d: Preparing
b624aa2d5ea2: Preparing
d399c9dc306f: Preparing
84f9fa179c1b: Preparing
ce84ba212e49: Preparing
e4dc8cd9ecc8: Preparing
6428cc293366: Preparing
2f7436e79a0b: Preparing
d2a991bcab4d: Waiting
ce84ba212e49: Waiting
b624aa2d5ea2: Waiting
d399c9dc306f: Waiting
84f9fa179c1b: Waiting
e4dc8cd9ecc8: Waiting
6428cc293366: Waiting
2f7436e79a0b: Waiting
da9352a361fa: Layer already exists
d2a991bcab4d: Layer already exists
b624aa2d5ea2: Layer already exists
d399c9dc306f: Layer already exists
84f9fa179c1b: Layer already exists
ed899b27f171: Pushed
ce84ba212e49: Layer already exists
e4dc8cd9ecc8: Layer already exists
6428cc293366: Layer already exists
2f7436e79a0b: Layer already exists
9b2a22de7ab4: Pushed
77668346afb8: Pushed
7f20ba27b9a3: Pushed
latest: digest: sha256:3f6d98ee6a495172f1ad429afe3ea60e1ab53d257639a2f55f743312cde7564e size: 3058
[Pipeline] }
[Pipeline] // withDockerRegistry
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Deploy to Container)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ echo Stopping and removing old container...
Stopping and removing old container...
+ docker stop bms
bms
+ docker rm bms
bms
+ echo Running new container on port 3000...
Running new container on port 3000...
+ docker run -d --restart=always --name bms -p 3000:3000 swaksy7781/bms:latest
c25e30119c5503b03e6561a86f7475ad253c0ab46243b40ac6477db267feca19
+ echo Checking running containers...
Checking running containers...
+ docker ps -a
CONTAINER ID   IMAGE                     COMMAND                  CREATED        STATUS                  PORTS                                         NAMES
c25e30119c55   swaksy7781/bms:latest     "docker-entrypoint.sâ€¦"   1 second ago   Up Less than a second   0.0.0.0:3000->3000/tcp, [::]:3000->3000/tcp   bms
e6753a6df08c   sonarqube:lts-community   "/opt/sonarqube/dockâ€¦"   26 hours ago   Up 36 minutes           0.0.0.0:9000->9000/tcp, [::]:9000->9000/tcp   sonar
+ echo Fetching logs...
Fetching logs...
+ sleep 5
+ docker logs bms

> bookmyshow-app@0.1.0 start
> NODE_OPTIONS=--openssl-legacy-provider react-scripts start

[34mâ„¹[39m [90mï½¢wdsï½£[39m: Project is running at http://172.17.0.2/
[34mâ„¹[39m [90mï½¢wdsï½£[39m: webpack output is served from 
[34mâ„¹[39m [90mï½¢wdsï½£[39m: Content not from webpack is served from /app/public
[34mâ„¹[39m [90mï½¢wdsï½£[39m: 404s will fallback to /
Starting the development server...

[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Declarative: Post Actions)
[Pipeline] emailext
Sending email to: wakasesaurabh@gmail.com
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS
